<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<meta name="keyword" content="">

    <link rel="shortcut icon" href="/mongo-scala-driver/1.0/img/favicon.png">

    <title>SSL</title>

    <link rel="stylesheet" href="/mongo-scala-driver/1.0/lib/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/1.0/lib/font-awesome/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/1.0/css/mongodb-docs.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/1.0/css/overrides.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/1.0/lib/highlight/styles/idea.css" />
<link rel="stylesheet" href="/mongo-scala-driver/1.0/lib/bootstrap-toggle/bootstrap-toggle.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/1.0/css/java.css" type="text/css" />


  </head>

  <body>
  
  <section id="container" class="">
      
      <header id="header-db" class="row" role="navigation">
  <div class="header-content">
    <div class="toggle-nav pull-left">
        <i class="fa fa-bars"></i>
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
    </div>
    
    <div class="logo pull-left">
      <a href="/mongo-scala-driver/1.0/../">
        <img src="/mongo-scala-driver/1.0/img/logo-mongodb-header.png", alt="MongoDB.org" />
      </a>
    </div>
    
    <div>
<div class="nav-items pull-right">
  <a href="http://try.mongodb.org/" data-toggle="tooltip" data-placement="bottom" title="Try MongoDB in the browser">Try it Out</a>
  <a href="http://www.mongodb.org/downloads" data-toggle="tooltip" data-placement="bottom" title="Download MongoDB">Downloads</a>
  <a href="http://www.mongodb.org/get-involved" data-toggle="tooltip" data-placement="bottom" title="Get involved with MongoDB">Community</a>
  <a href="http://docs.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Documentation">Docs</a>
  <a href="http://blog.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Blog">Blog</a>
  <div id="search">
<form method="get" action="//www.google.com/search" target="_blank">
    <input type="text" name="searchQuery" size="20" value="" autocomplete="off" placeholder="Search docs">
    <input type="hidden" name="site" value="/mongo-scala-driver/1.0">
    <input type="hidden" name="q" value="">
    <label for="searchQuery"><i class="fa fa-search fa-1"></i></label>
</form>
</div>

</div>
</div>

  </div>
</header>

      

      
<aside id="sidebar" class="sidebar">
    <div class="ssidebar nav-collapse">
      <div class="ssidebarwrapper">
        <h3>
          <a class="index-link" href="/mongo-scala-driver/1.0/../">MongoDB Scala Driver</a>
          <a class="version pull-right" href="/mongo-scala-driver/1.0">1.0</a>
        </h3>

        
        <ul class="sidebar-menu">
          
          
          
          
          
          
          
          
          
          
          
          

          
          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
  
  
  
  
  
  
  

  
    
    
    
      
      
      
        
      
    
    
  
  


        
      
    
      
      
        
      
    
    
  


        
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          

          

          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/1.0/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/getting-started/quick-tour-primer/">
        <i class='fa'></i>
        Quick Tour Primer
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/getting-started/quick-tour-admin/">
        <i class='fa'></i>
        Admin Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            













  




<li class="toctree-l1  current">
  <a href="/mongo-scala-driver/1.0/reference/" class="">
      <i class='fa fa-book'></i>
      <span>Reference</span>
      <span class="menu-arrow fa fa-angle-down"></span>
  </a>
    <ul  class="current">
        
        
        
        













  




<li class="toctree-l2  current">
  <a href="/mongo-scala-driver/1.0/reference/connecting/" class="">
      <i class='fa'></i>
      <span>Connecting</span>
      
  </a>
    <ul  class="current">
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/1.0/reference/connecting/connection-settings/">
        <i class='fa'></i>
        Connection Settings
    </a>
  </li>


        
        
        
        
        













  




    <li class="toctree-l3">
    <a href="/mongo-scala-driver/1.0/reference/connecting/ssl/">
        <i class='fa'></i>
        SSL
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/1.0/reference/connecting/authenticating/">
        <i class='fa'></i>
        Authenticating
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/reference/crud/">
        <i class='fa'></i>
        CRUD Operations
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/reference/observables/">
        <i class='fa'></i>
        Observables
    </a>
  </li>


        
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-scala-driver/1.0/reference/management/" class="">
      <i class='fa'></i>
      <span>Management</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/1.0/reference/management/logging/">
        <i class='fa'></i>
        Logging
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/1.0/reference/management/monitoring/">
        <i class='fa'></i>
        Monitoring
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/1.0/bson/" class="">
      <i class='fa fa-th'></i>
      <span>BSON</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/bson/documents/">
        <i class='fa'></i>
        Documents
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/bson/extended-json/">
        <i class='fa'></i>
        Extended JSON
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/1.0/builders/" class="">
      <i class='fa fa-wrench'></i>
      <span>Builders</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/builders/filters/">
        <i class='fa'></i>
        Filters
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/builders/projections/">
        <i class='fa'></i>
        Projections
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/builders/sorts/">
        <i class='fa'></i>
        Sort Criteria  
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/builders/aggregation/">
        <i class='fa'></i>
        Aggregation
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/builders/updates/">
        <i class='fa'></i>
        Updates
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/1.0/builders/indexes/">
        <i class='fa'></i>
        Indexes
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/1.0/integrations/">
        <i class='fa fa-arrows-h'></i>
        Integrations
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/1.0/scaladoc/">
        <i class='fa fa-file-text-o'></i>
        API Documentation
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://github.com/mongodb/mongo-scala-driver/tree/master">
        <i class='fa fa-github'></i>
        Source Code
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/1.0/issues-help/">
        <i class='fa fa-life-ring'></i>
        Issues &amp; Help
    </a>
  </li>


          
        </ul>
        
    </div>
  </div>
  
</aside>

<div class="option-popup closed hidden" id="optionsVersionsPopup">
<div class="option-header">
  <i class="fa fa-gear"></i>
  <span>OPTIONS</span>
  <i class="fa fa-angle-up pull-right"></i>
</div>
<div class="option-body">
  <ul>
      
      <li>
        <label>Version</label>
        <div class="btn-group btn-group-xs pull-right">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            Select Version <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu" id="optionsVersionsMenu">
          </ul>
        </div>
      </li>

   


    

  </ul>
</div>
</div>



      
      <section id="main-content" class="content">
          <section class="main-column pull-left">
            <div class="document">
              <div class="documentwrapper">
                <div class="bodywrapper">
                  <div class="body">


   
<a class="edit-link" href="https://github.com/mongodb/mongo-scala-driver/blob/master/docs/reference/content/reference/connecting/ssl.md" target="_blank" title="Edit reference/connecting/ssl.md on GitHub"><i class="fa fa-pencil-square-o"></i></a>










<div class="bc">
<ul>
  
  
  
  
  <li><a href="/mongo-scala-driver/1.0/reference/">Reference</a> <i class="fa fa-angle-right"></i></li>
  <li><a href="/mongo-scala-driver/1.0/reference/connecting/">Connecting</a> <i class="fa fa-angle-right"></i></li>
  <li>SSL</li>
</ul>
</div>




<h2 id="ssl">SSL</h2>

<p>The Scala driver supports SSL connections to MongoDB servers using the underlying support for SSL provided by
<a href="http://netty .io/">Netty</a>. You can configure the driver to use SSL with <code>MongoClientSettings</code> by setting the sslEnabled property to true
and the stream factory to <a href="/mongo-scala-driver/1.0/scaladoc/index.html#org.mongodb.connection.NettyStreamFactoryFactory
"><code>NettyStreamFactoryFactory</code></a>, as in:</p>

<pre><code class="language-scala">import org.mongodb.scala.connection.{NettyStreamFactoryFactory, SslSettings}

MongoClientSettings.builder()
                   .sslSettings(SslSettings.builder()
                                           .enabled(true)
                                           .build())   
                   .streamFactoryFactory(NettyStreamFactoryFactory())
                   .build()
</code></pre>

<p>See <a href="/mongo-scala-driver/1.0/reference/connecting/connection-settings/#netty-configuration">Netty Configuration</a> for details on
configuring Netty.</p>

<h3 id="host-name-verification">Host name verification</h3>

<p>By default, the driver ensures that the host name included in the server&rsquo;s SSL certificate(s) matches the host name(s) provided when
constructing a <code>MongoClient</code>.  However, this host name verification requires a Java 7 JVM, as it relies on additions to the
<code>javax.net.SSLParameters</code> class that were introduced in Java 7.  If your application must run on Java 6, or for some other reason you need
 to disable host name verification, you must expicitly indicate this in <code>SslSettings</code> using the <code>invalidHostNameAllowed</code> property:</p>

<pre><code class="language-scala">MongoClientSettings.builder()
                   .sslSettings(SslSettings.builder()
                                           .enabled(true)                 
                                           .invalidHostNameAllowed(true)  
                                           .build())                      
                   .streamFactoryFactory(NettyStreamFactoryFactory())
                   .build()
</code></pre>

<h3 id="jvm-system-properties">JVM system properties</h3>

<p>A typical application will need to set several JVM system properties to ensure that the client is able to validate the SSL certificate
presented by the server:</p>

<ul>
<li><code>javax.net.ssl.trustStore</code>: the path to a trust store containing the certificate of the signing authority</li>
<li><code>javax.net.ssl.trustStorePassword</code>: the password to access this trust store</li>
</ul>

<p>The trust store is typically created with the <a href="http://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html">keytool</a>
command line program provided as part of the JDK.  For example:</p>

<pre><code class="language-bash">    keytool -importcert -trustcacerts -file &lt;path to certificate authority file&gt; 
        -keystore &lt;path to trust store&gt; -storepass &lt;password&gt;
</code></pre>

<p>A typical application will also need to set several JVM system properties to ensure that the client presents an SSL certificate to the
MongoDB server:</p>

<ul>
<li><code>javax.net.ssl.keyStore</code>: the path to a key store containing the client&rsquo;s SSL certificates</li>
<li><code>javax.net.ssl.keyStorePassword</code>: the password to access this key store</li>
</ul>

<p>The key store is typically created with the <a href="http://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html">keytool</a> or the
<a href="https://www.openssl.org/docs/apps/openssl.html">openssl</a> command line program.</p>

<p>For more information on configuring a Java application for SSL, please refer to the<br />
<a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html">JSSE Reference Guide</a>.</p>






<div id="btnv">
  
  <div class="pull-left">
  <a class="navigation prev" href="/mongo-scala-driver/1.0/reference/connecting/connection-settings/">
      <i class="fa fa-long-arrow-left"> </i> Connection Settings
  </a>
  </div>
  
  
  <div class="pull-right">
  <a class="navigation next" href="/mongo-scala-driver/1.0/reference/connecting/authenticating/">
    Authenticating <i class="fa fa-long-arrow-right"> </i>
  </a>
  
</div>
</div>


</div>
<div class="right-column">
<div class="wrapper">
  
  <div class="toc">
    <span class="toc-header">On this page</span>
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#ssl">SSL</a>
<ul>
<li><a href="#host-name-verification">Host name verification</a></li>
<li><a href="#jvm-system-properties">JVM system properties</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
  
</div>
</div>

</div>
</div>
</div>
</section>
</section>

</section>


<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
   URL_ROOT:    "/mongo-scala-driver/1.0",
   VERSION:     "1.0",
   COLLAPSE_INDEX: false,
   FILE_SUFFIX: '.html',
   HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="/mongo-scala-driver/1.0/js/jquery.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/1.0/lib/bootstrap.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/1.0/js/navbar.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/1.0/lib/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/1.0/js/scripts.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/1.0/lib/bootstrap-toggle/bootstrap-toggle.min.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/1.0/js/scala.js"></script>



<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-K75Z5Q"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
{'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K75Z5Q');</script>


<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '413370795']);
_elqQ.push(['elqTrackPageView']);
(function () {
function async_load()
{ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//img03.en25.com/i/elqCfg.min.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); }
if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>

</body>
</html>

